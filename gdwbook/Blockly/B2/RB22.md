# RB22 初识 SenseHat

## 课程概述

- 课程名称：见标题
- 课程时长：40 分钟 × 2
- 课程内容：介绍 SenseHat，学习点阵屏使用
- 学生群体：3~6 年级

```plain
本节课参考了如下资料：
1. 下沙青少年宫二期，06 初识SenseHat
2. 初级 1，17 点阵屏显示
```

## 教学目标

1. 认识 SenseHat
2. 理解点阵、像素的概念

### 考察点

### 知识与技能

- SenseHat 基本认知
- RGB 色彩
- 列表、变量
- 循环嵌套
- 点阵、坐标和像素的概念

### 情感价值和学科交叉

### 难点和注意事项

## 教学准备

- 按教学准备基础要求进行准备
- 实验器材：
    - 树莓派基础或进阶套件
    - SenseHat
    - 树莓派专用摄像头

## 课堂教学活动


### 暖场（5分钟）

活跃气氛，复习上节课内容，引入本节课主题

### 课堂讲解（70分钟）

**教学提纲：**

- 前篇
    - 认识 SenseHat
    - 任务一：点阵屏显示字符
    - 任务二：点阵屏显示字符并旋转角度
- 后篇
    - 任务三：依次点亮所有小点
    - 任务四：点阵屏最外圈依次亮灯
    - 扩展任务：摄像头和点阵屏
- 巩固练习和作业（根据整体或个别学生学习情况酌情选择作为课堂巩固练习或课后作业。课堂练习可分为2~3人小组进行讨论合作）
    - 制作像素画

**授课内容**：详见下文“讲义”部分。
    
### 扩展内容 

*（根据学生程度酌情加入，不影响主线课程进度）*    

### 总结与点评（5分钟）

*(回顾课程知识点，根据情况提问。如果有学生作品，邀请学生上台演示、讲解。)*

思考题：液晶显示器是怎么显示图像的？

## 讲义 *(完整授课内容和补充知识)*

### 认识 SenseHat
  
SenseHat 是一个树莓派的扩展板，通过40引脚通用输入输出附加在树莓派顶部。拥有多个基于集成电路的传感器, 可用于多个不同类型的实验, 应用和游戏：

* 8x8 的 RGB Led阵列（彩色屏）
* 五个方向操纵杆
* 陀螺仪传感器
* 加速度传感器
* 磁传感器
* 温度传感器
* 气压传感器
* 湿度传感器

树莓派 SenseHat 外观和连接如下：

<div align="center">
    <img src="/media/15605911386917.jpg">
</div>

古德微平台 SenseHat 相关积木：

<div align="center">
    <img src="/media/15605915282415.jpg">
</div>


### 任务一：点阵屏显示文字

先来学习最基本的点阵屏使用。

点阵屏可以用某种颜色来显示一个字符，我们可以简单地拖动这块积木到脚本区域，不做任何更改直接执行，就可以看到点阵屏上出现字符 Y。这个功能也可以用来检查点阵屏是否能正常工作。

颜色的设置，在智能灯带部分已经学过。同样是 RGB 色彩的控制。同学们可以根据自己的美术知识，调整红绿蓝三种颜色的数值来控制显示的字符的颜色和明暗程度。

<div align="center">
    <img src="/media/15607522989791.jpg">
</div>

另外，我们还可以将预设的颜色赋值给一个变量方便使用。注意，颜色赋值有两种方法，一种是使用通用列表，一种是专用的颜色混合积木（实际上也是一个列表）。

“列表”是一个很有用的功能，我们在未来的学习中还会多次使用到。

<div align="center">
    <img src="/media/15607527865179.jpg">
</div>

### 任务二：点阵屏显示字符并旋转

点阵屏可以进行旋转，旋转的角度可选值为 0，90，180，270。也就是可以进行 90° 旋转。

<div align="center">
    <img src="/media/15607541278767.jpg">
</div>

我们来显示一个不停旋转的字符。这里也要用到列表来存储可选角度。
默认的列表项目槽有三个，点击这个小齿轮可以添加更多项目。为了方便使用，列表积木还可以在单行和竖直两种显示模式切换：

<div align="center">
    <img src="/media/15607540468696.jpg">
</div>

有了可选角度的列表，我们就可以循环选取列表中的角度来进行旋转。

<div align="center">
    <img src="/media/15607535069614.jpg">
</div>

### 任务三：依次点亮所有小点

我们要点亮点阵屏上某个特定的点该怎么做？

我们可以想象一个表格，表格有“行”和“列”，表格的每个格子，可以用第几行第几列来表示，比如下面这个高亮的单元格，就可以表示为第 4 行第 D

<div align="center">
    <img src="/media/15607547545720.jpg">
</div>

点阵屏可以认为是一个 8x8 的表格（阵列），每一个小点都可以用“x 行 y 列”这样的坐标来定位。有所不同的是，行、列的起始编号（索引）是从 0 而不是 1 开始。计算机世界里大部分地方的编号（索引）都是从 9 开始的。前面学过的智能灯带小灯的编号也是如此。实际是本节课用到的“列表”，索引本来也应该是从 0 开始，但是为了和同学们平时的认知接近，古德微平台做了一些转换，让列表的索引从 1 开始。

有了坐标，就可以精确的操作某个点。

<div align="center">
    <img src="/media/15607549914614.jpg">
</div>

现在我们来点亮某一行比如第 1 行的所有点：

<div align="center">
    <img src="/media/15607550891905.jpg">
</div>

接下来，依次点亮所有点，我们需要一个循环嵌套来遍历所有行和列。同时为了看到遍历的效果，每个动作之间等待 0.1秒

<div align="center">
    <img src="/media/15607552854253.jpg">
</div>

### 任务四：点阵屏最外圈依次亮灯

有了行、列的概念，我们就可以依次点亮最外圈的点。

顺序是：

1. 第 0 行，0 至 7 列
2. 第 7 列，0 至 7 行
3. 第 7 行，7 至 0 行
4. 第 0 列，7 至 0 行

直接的实现方案见方案一。
然后可以用函数来简化代码并使代码逻辑更容易阅读，见方案二。

<div align="center">
    <img src="/media/15607573576303.jpg">
</div>

### 扩展任务：摄像头+SenseHat

目标：

- 按下按钮拍照
- 文字识别
- 识别后的文字在点阵屏输出（目前只能输出英文字符）

### 作业：像素画

通过点阵屏创作一幅简单的像素画，可自行绘制（比如利用网格、Excel），也可参考样例

<div align="center">
    <img src="/media/15607556301470.jpg">
</div>


## 课件

根据本教学计划和讲义，以及具体授课对象编写。

文件名应为：

`RB22-认识SenseHat.pptx`



